"undefined"==typeof cimjsv&&(cimjsv=new Object),cimjsv["//utils.imimg.com/favourite/js/myfav.js"]=28;var glid=0,array_html=[];function getDomainURL(){var t="utils.imimg.com",o="mapi.indiamart.com",e="";return window.location.href.match(/(\/\/dev-|\/\/dev.|file:\/\/)/gi)?(t="dev-utils.imimg.com",o="dev-mapi.indiamart.com",e="dev-"):window.location.href.match(/(\/\/stg-|\/\/stg.|file:\/\/)/gi)&&(t="stg-utils.imimg.com",o="stg-mapi.indiamart.com",e="stg-"),[t,o,e,window.location.href]}var host_nm=getDomainURL();function datastore(){var t="ImeshVisitor=";if(offset=document.cookie.indexOf(t),-1!=offset){offset+=t.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length);for(var o=unescape(document.cookie.substring(offset,end)).split("|"),e=0;e<o.length;e++){var i=o[e].split("=");"glid"==i[0]&&(glid=i[1])}}return""==array_html&&$.ajax({type:"POST",url:"//"+host_nm[1]+"/wservce/products/favproduct/",data:{glusr_id:glid,token:"imobile@15061981",modid:"MY"},dataType:"json",crossDomain:!0,success:function(t){if(200==t.Response.Status)for(var o=0;o<t.Response.Data.length;o++){var e=t.Response.Data[o].glusr_favourite_display_id,i=t.Response.Data[o].supplier_glusr_usr_id+"_"+e;null!=document.getElementById(i)&&(document.getElementById(i).src="//"+host_nm[0]+"/favourite/imgs/hearton.png"),array_html[o]=i}},error:function(t,o,e){}}),!0}function mark_unmark(t){var o=t,e=0,i=0;if(0==glid){if(offset=document.cookie.indexOf("ImeshVisitor="),-1==offset)return document.getElementById("buttonid").value=t,signIn("","","",""),!1;1==datastore()&&(e=1,i=1)}else e=1;if(1==e){var a=o.split("_"),n=a[0],r=a[1],s=document.location.href;modid=getSource(s);var d=!1;return-1!==array_html.indexOf(o)?1==i?($("#divToolTip").html("Mark as Favourite"),$("#divToolTip").css({color:"#000"}),$("#"+t).attr("src","//"+host_nm[0]+"/favourite/imgs/heartoff.png"),$("#"+t).hasClass("imfv")&&$(".imfv").tooltip(),$("#divToolTip").show(),i=0):$.ajax({type:"post",async:!1,data:{S_USR_ID:n,DISPLAY_ID:r,MOD_ID:modid[0],MODE_SOURCE:modid[1],FAVOURITE_IP:"IP",HIST_COMMENTS:"favourite deleted",UPDATEDBY:"user",VALIDATION_KEY:"3245abd21ccaf37b137062f7ccc81269",IP_COUNTRY:"IN",UPDATESCREEN:modid[0],UPDATEDBY_URL:s,B_USR_ID:glid,OP_FLAG:"D"},url:"//"+host_nm[1]+"/wservce/products/favoritemark/",dataType:"html",crossDomain:!0,success:function(e){$("#divToolTip").html("Mark as Favourite"),$("#divToolTip").css({color:"#000"}),$("#"+t).attr("src","//"+host_nm[0]+"/favourite/imgs/heartoff.png"),$("#"+t).hasClass("imfv")&&$(".imfv").tooltip(),$("#divToolTip").show(),e?(0!=$("#img"+r).length&&(document.getElementById("img"+r).style.display="block"),0!=$("#img_d"+r).length&&(document.getElementById("img_d"+r).style.display="none"),array_html.splice(array_html.indexOf(o),1),d=!0):d=!1}}):$.ajax({type:"post",async:!1,data:{S_USR_ID:n,DISPLAY_ID:r,B_USR_ID:glid,MOD_ID:modid[0],MODE_SOURCE:modid[1],FAVOURITE_IP:"IP",HIST_COMMENTS:"favourite inserted",UPDATEDBY:"user",VALIDATION_KEY:"3245abd21ccaf37b137062f7ccc81269",IP_COUNTRY:"IN",UPDATESCREEN:modid[0],UPDATEDBY_URL:s,OP_FLAG:"I"},url:"//"+host_nm[1]+"/wservce/products/favoritemark/",dataType:"html",crossDomain:!0,success:function(e){host_nm[3].indexOf("my.indiamart.com")>=0||host_nm[3].indexOf("seller.indiamart.com")>=0?$("#divToolTip").hide():($("#divToolTip").html('<a href="//'+host_nm[2]+'my.indiamart.com/buyertools/myproductbuy/" style="color: #00f;text-decoration: underline;font-size: 14px;" target="_blank">View Favourites</a>'),$("#divToolTip").css({color:"#00f"})),$("#"+t).attr("src","//"+host_nm[0]+"/favourite/imgs/hearton.png"),$("#"+t).hasClass("imfv")&&$(".imfv").tooltip(),e?(array_html.push(o),d=!0):d=!1}}),d}}datastore();var v4iilex_present=function(t){if(host_nm[3].indexOf("my.indiamart.com")>=0||host_nm[3].indexOf("seller.indiamart.com")>=0){var o=0;"/"!=host_nm[3].substr(host_nm[3].length-1)&&(host_nm[3]=host_nm[3]+"/"),$.ajax({type:"get",url:host_nm[3]+"valid",crossDomain:!0,async:!1,success:function(t){o=t}}),1!=o&&(document.cookie="v4iilex=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")}return v4iilex_search="v4iilex=",offset_v4=document.cookie.indexOf(v4iilex_search),-1!=offset_v4?(offset_v4+=v4iilex_search.length,end=document.cookie.indexOf(";",offset_v4),-1==end&&(end=document.cookie.length),offset_v4!=end||(document.getElementById("buttonid").value=t,signIn("","","","B"),!1)):(document.getElementById("buttonid").value=t,signIn("","","","B"),!1)},getSource=function(t){var o=t,e="MY";return-1!=t.search("indiamart.com/proddetail/")?(e="PRODDTL",o="Product detail Page"):-1!=t.search("dir.indiamart.com")?(e="DIR",-1!=t.search("dir.indiamart.com/indianexporters/")?o="DIR Category Page":-1!=t.search("dir.indiamart.com/impcat/")?o="DIR Product Page":-1!=t.search("dir.indiamart.com/search.mp")&&(o="DIR Search Page")):(e="MY",o="MY favourite Products"),[e,o]};jQuery.fn.tooltip=function(t){t=$.extend({offsetX:15,offsetY:40,dataAttr:"data",bordercolor:"#dbbb5a",bgcolor:"#fff3ce",fontcolor:"#000000",fontsize:"14px"},t);var o=$('<div id="divToolTip"></div>');return this.each(function(){$("body").append(o),o.hide();var e=$(this).attr("id"),i="#divToolTip";$(this).hover(function(o){$(i).css({position:"absolute",border:"1px solid "+t.bordercolor,"background-color":t.bgcolor,padding:"4px 5px 5px 5px","border-radius":"5px 5px 5px 5px","z-index":"10",left:$("#"+e).offset().left+t.offsetX,top:$("#"+e).offset().top+t.offsetY,color:t.fontcolor,"font-size":t.fontsize}),array_html.indexOf(this.id)>=0?host_nm[3].indexOf("my.indiamart.com")>=0||host_nm[3].indexOf("seller.indiamart.com")>=0?$(i).hide():($(i).html('<a href="//'+host_nm[2]+'my.indiamart.com/buyertools/myproductbuy/" style="color: #00f;text-decoration: underline;font-size: 14px;" target="_blank">View Favourites</a>'),$(i).css({color:"#00f","text-decoration":"none"}),$(i).stop(!0,!0).fadeIn(100)):($(i).html("Mark as Favourite"),$(i).stop(!0,!0).fadeIn(100))},function(){var t=0;$(i).hover(function(){t=1},function(){$(i).stop(!0,!0).delay(1e3).fadeOut(100)}),setTimeout(function(){0==t&&$(i).stop(!0,!0).delay(500).fadeOut(100)},1e3)})})},$(document).ready(function(){$(".imfv").length>0&&$(".imfv").tooltip()});